import fs from 'fs';
import ejs from 'ejs';
import { INotificationTemplate } from '@notifications/interfaces/notification.interface';

class NotificationTemplate {
  public notificationTemplate(templateParams: INotificationTemplate): string {
    const { username, header, message } = templateParams;
    return ejs.render(fs.readFileSync(__dirname + '/notification-template.ejs', 'utf8'), {
      header,
      username,
      message,
      image_url:
        'data:image/png;base64,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'
    });
  }
}

export const notificationTemplate: NotificationTemplate = new NotificationTemplate();
